# 背景

元素的背景区包括前景之下直到边框外边界的所有空间，因此，内容框和内边距都是元素背景的一部分，且边框画在背景之上。

## 背景色 (background-color)

- background-color 不能继承，默认值为 transparent
- 可以为几乎所有元素设置背景色，这包括 body 一直到 em 和 a 等行内元素

## 背景图像 (background-image)

实例：

```css
body {
  background-image: url(bg.png)
}
```

- background-image 也不能继承，事实上，**所有背景属性都不能继承**
- 允许任何元素应用背景图像，包括块级元素和行内元素
- 使用背景图像的同时最好再指定一个背景色

## 有方向的重复 (background-repeat)

- 默认地，背景图像将会从一个元素的 **左上角** 开始
- 可选值
  - repeat（默认值，从起点开始分别沿水平和竖直四个方向平铺）
  - repeat-x（从起点开始沿着水平方向平铺）
  - repeat-y
  - no-repeat
  - inherit

## 背景定位 (background-position)

背景图片平铺，默认从元素内边距左上角边界开始放置源图像，换句话说，**放置图像的上下文是内边距边框，尽管背景区会延伸到外边框边界**。而这个开始放置的起点称为源图像（origin image），我们可以用 background-position 属性改变这个值，从而确定平铺开始的位置。

属性取值：

- 关键字方式
  - 取值 left / right / top / bottom / center
  - 如果只出现一个关键字，则另一个默认为 center
  - 两个关键字的顺序可以互换
- 百分数值
  - 取值为两个百分数（水平值，垂直值）
  - 如果只有一个值，则用作水平值，垂直值默认为 50%（居中）
  - **百分数值同时应用于元素和源图像**。比如，将源图像在一个元素中居中时，图像中描述为 50% 50% 的点（中心点）与元素中描述为 50% 50% 的点（中心点）对齐
- 长度值
  - 长度值解释为从元素内边距区左上角的偏移，偏移点是源图像的左上角
  - 可以与其他方式混合使用，比如 `background-position: 100% 10px;`  背景图像延伸到元素右边，并从顶部向下延伸 10px
  - 如果使用长度值或者百分数值，可以使用负值将源图像拉出元素的背景区。如果使用的是百分数值，如果父元素不一样，因为要通过百分数计算，所以视野中的背景图可能也不一样。

## 关联 (background-attachment)

思考这样一个场景，我给 body 标签指定了背景图，但是背景图会随着文档的滚动而滚动，我们可能会有这样的需求，让背景图 fixed， 不要随着文档的滚动而滚当，background-attachment 属性就能派上用场。

默认情况下，该属性取值 `scroll`，我们可以对其取值 `fixed`。

需要注意的是，**背景图像会相对于可视区定位**，而不是相对于包含该图像的元素定位，不过，**背景将只在其包含元素中可见**。

可以这样理解，从可视区左上角开始放置图像，**但是和其包含元素重叠的部分才可见**。

